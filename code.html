<!DOCTYPE html>
<html>
<script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<a-scene embedded arjs= 'trackingMethod: best; '>
<a-assets>
    <a-asset-item id="tree-obj" src="/models/knightobj"></a-asset-item>
    <a-asset-item id="tree-mtl" src="/models/knight.mtl"></a-asset-item>
 </a-assets>
<a-marker markerhandler type="pattern" emitevents="true" cursor="rayOrigin: mouse" id="marker1" url="models/pattern-chess.patt">
<a-text id="timer" clock-text value="" width="5" height="5" position="0 0 0" color="#FF0000" ></a-text>
   <a-entity
	position="0 0 0"
	scale="0.003 0.003 0.003"
	id="model"
	obj-model="obj: #tree-obj; mtl: #tree-mtl">
   </a-entity>
	</a-marker>
</a-scene>
<script>
AFRAME.registerComponent('markerhandler', {
    init: function() {
        const animatedMarker = document.querySelector("#marker1");
        const aEntity = document.querySelector("#timer");
        animatedMarker.addEventListener('click', function(ev, target){
            const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
            if (aEntity && intersectedElement === aEntity) {
                //var scale = 'hello';
                //aEntity.setAttribute('value', scale);
		 document.location.href = "https://goo.gl/maps/gRsth6SHo5AgwMbT7"
            }
        });
	    
}});
	</script>
</html>
