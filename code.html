<!DOCTYPE html>
<html>
<script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>
<a-assets>
    <a-asset-item id="tree-obj" src="models/chess.gltf"></a-asset-item>
 </a-assets>
<a-text id="timer" clock-text value="" width="5" height="5" position="0 0 0" color="#FF0000" ></a-text>
<a-marker markerhandler type="pattern" emitevents="true" cursor="rayOrigin: mouse" id="marker1" url="models/pattern-chess.patt">
   <a-entity
	position="0 0 0"
	scale="0.003 0.003 0.003"
	id="model"
	gltf-model="#tree-obj">
   </a-entity>
</a-marker>
<a-entity camera></a-entity>
</a-scene>
<script>
AFRAME.registerComponent('markerhandler', {
    init: function() {
        const animatedMarker = document.querySelector("#marker1");
        const aEntity = document.querySelector("#model");
        animatedMarker.addEventListener('click', function(ev, target){
            const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
            if (aEntity && intersectedElement === aEntity) {
                //var scale = 'hello';
                //aEntity.setAttribute('value', scale);
		// document.location.href = "https://goo.gl/maps/gRsth6SHo5AgwMbT7"
		const scale = aEntity.getAttribute('scale');
                Object.keys(scale).forEach((key) => scale[key] = scale[key] + 1);
                aEntity.setAttribute('scale', scale);

            }
        });
	    
}});
	</script>
</html>
