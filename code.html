<!DOCTYPE html>
<html>
<script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<a-scene embedded arjs= 'trackingMethod: best; '>
<a-marker type="pattern" id="marker1" url="models/pattern-chess.patt" mappoint-handler>
<a-text id="timer" clock-text value="" width="5" height="5" position="0 0 0" color="#FF0000" ></a-text>
<a-entity
position="0 0 0"
scale="0.003 0.003 0.003"
gltf-model="url(models/chess.gltf)">
</a-entity>
	</a-marker>
</a-scene>
<script>

  AFRAME.registerComponent('mappoint-handler', {

    init: function() {
      const marker3 = document.querySelector("#marker1");
      marker3.addEventListener('click', function() {
            			AFRAME.registerComponent('clock-text', {
  init: function() {
    var el = this.el;
    this.ready = false;
      el.addEventListener('textfontset', function() {
      this.ready = true;
    }.bind(this));
  },
  tick: function() {
    var el = this.el;
    if (!this.ready) {
      return;
    }
    el.setAttribute('value', 'this is chess pawn');
  }
});
        }
      });
    }
  });

</script>
</html>
